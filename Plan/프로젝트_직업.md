__프로젝트 생크추어리(Project Sanctuary): 디아블로 IV 기반 마인크래프트 RPG 서버 아키텍처 및 구현 전략 보고서__

__1. 서론: 기술적 비전 및 아키텍처 개요__

본 연구 보고서는 블리자드 엔터테인먼트의 액션 RPG _디아블로 IV(Diablo IV)_, 특히 확장팩 *증오의 그릇(Vessel of Hatred)*과 시즌 6의 시스템적 변화를 심층 분석하여, 이를 자바(Java) 기반 마인크래프트 환경에서 완벽하게 구현하기 위한 기술적 청사진을 제시하는 것을 목적으로 한다. 단순한 시각적 모방을 넘어, _디아블로 IV_의 핵심인 '데미지 버킷(Damage Buckets)' 이론, 정교한 직업 메커니즘(Spirit Hall, Enchantment Slots 등), 그리고 절차적 엔드게임 시스템을 마인크래프트의 플러그인 생태계 내에서 재구축하는 것이 본 프로젝트의 핵심 과제이다.

분석은 제공된 연구 자료(Research Snippets)를 바탕으로 진행되었으며, __MythicMobs__(엔티티 동작 제어), __MMOCore__(직업 및 레벨링 로직), __MMOItems__(아이템 속성 및 스탯), __Oraxen/ItemsAdder__(리소스팩 및 HUD 렌더링)로 구성된 기술 스택을 기반으로 한다.<sup>1</sup> 이 보고서는 서버 관리자, 플러그인 개발자, 그리고 기획자를 위한 포괄적인 기술 문서(Technical Design Document)로서 기능하며, 각 시스템의 논리적 구조와 수학적 공식, 그리고 구체적인 구현 방안을 포함한다.


---

__2. 핵심 기술 스택 및 클라이언트 렌더링 전략__

디아블로 IV와 같은 고도화된 ARPG 경험을 제공하기 위해서는 마인크래프트 바닐라의 한계를 극복하는 엔진 레벨의 수정이 필요하다. 이는 서버 사이드 플러그인과 클라이언트 사이드 리소스팩의 유기적인 결합을 통해 달성된다.

__2.1 3대 핵심 플러그인(The Trinity)의 역할 및 통합__

서버의 백엔드 로직은 다음 세 가지 플러그인의 상호작용으로 정의된다. 이들의 유기적인 연결은 _디아블로 IV_의 복잡한 수치 연산을 처리하는 기반이 된다.



1. __MMOCore (플레이어 상태 및 직업 로직)__:
* __역할__: 플레이어의 레벨, 스탯(힘, 지능, 의지력, 민첩), 스킬 트리, 마나/기력 시스템을 관리한다.<sup>5</sup>
* __구현 전략__: 바닐라의 경험치 바를 커스텀 리소스(Vigor, Essence, Fury 등)로 대체하고, 액션바(Action Bar)를 통해 실시간 수치를 표기한다. 직업 선택 시 해당 직업의 고유 리소스 재생 로직(예: 야만용사는 피격 시 분노 생성, 원소술사는 자동 재생)을 적용한다.

2.              __MMOItems (아이템 체계 및 스탯 연산)__:



* __역할__: 무작위 옵션이 부여되는 장비(Ancestral, Legendary), 전설 위상(Aspects), 보석, 룬워드 시스템을 담당한다.<sup>2</sup>
* __구현 전략__: NBT 태그를 활용하여 아이템에 '치명타 확률', '제압 피해', '취약 피해' 등의 커스텀 스탯을 부여한다. 시즌 6의 담금질(Tempering) 및 명품화(Masterworking) 시스템을 구현하기 위해 아이템의 티어 및 업그레이드 레벨을 별도의 데이터 컨테이너에 저장한다.

3.              __MythicMobs (월드 엔티티 및 AI)__:



* __역할__: 몬스터의 행동 패턴, 스킬 시각 효과(Particle), 보스 메커니즘(Duriel, Andariel), 그리고 던전 기믹을 제어한다.<sup>1</sup>
* __구현 전략__: _디아블로 IV_의 몬스터 접사(Affix - 예: 포격, 빙결 등)를 MythicMobs의 스킬 파일로 구현하고, 몬스터 스폰 시 무작위로 해당 스킬을 부여하는 메커니즘을 적용한다.

__2.2 차세대 UI/UX: 네거티브 스페이스 폰트(Negative Space Fonts) 기술__

_디아블로 IV_의 몰입감 있는 HUD(체력 구슬, 스킬 슬롯 등)를 구현하기 위해 __네거티브 스페이스 폰트__ 기법이 필수적이다.<sup>7</sup> 이는 마인크래프트의 텍스트 렌더링 시스템을 해킹하여 GUI 이미지를 화면의 원하는 위치에 배치하는 기술이다.



* __기술적 원리__:
* 유니코드 문자(예: \uF801)에 커스텀 폰트 이미지를 할당한다.
* space 폰트 공급자를 사용하여 픽셀 단위로 커서를 이동시킨다(예: space.-16은 커서를 왼쪽으로 16픽셀 이동).
* 이를 통해 채팅창, 액션바, 또는 타이틀 화면에 고해상도 텍스처를 오버레이할 수 있다.
* __디아블로 IV HUD 구현__:
* __체력/자원 구슬__: 체력 상황에 따라 다른 유니코드 문자(100%, 90%, 80%...)를 액션바에 출력하여 애니메이션 효과를 연출한다.
* __스킬 핫바__: 1~4번 키와 좌/우 클릭 슬롯을 시각적으로 구분하는 배경 이미지를 핫바 슬롯 위에 덮어씌운다. 이는 __Oraxen__ 또는 __ItemsAdder__의 HUD 기능을 통해 관리된다.<sup>4</sup>
* __메뉴 시스템 (Skill Tree & Paragon Board)__:
* 체스트(Chest) GUI를 열 때, 네거티브 스페이스 폰트를 사용하여 체스트의 기본 슬롯 이미지를 가리고 _디아블로 IV_의 스킬 트리 배경 이미지를 렌더링한다.
* 투명 아이템(Invisible Item)에 '커스텀 모델 데이터'를 적용하여 스킬 노드 아이콘으로 사용하고, 플레이어가 이를 클릭하면 스킬이 투자되는 방식을 취한다.<sup>11</sup>


---

__3. 신규 직업 '혼령사(Spiritborn)'의 메커니즘 심층 분석 및 구현__

확장팩 _증오의 그릇_에서 추가된 혼령사는 가장 복잡한 메커니즘을 가진 직업으로, 4가지 혼령(재규어, 독수리, 고릴라, 지네)의 조합을 통해 전투 스타일이 결정된다.<sup>13</sup> 마인크래프트 서버에서 이를 구현하기 위해서는 동적인 태그 시스템과 복잡한 이벤트 리스너가 필요하다.

__3.1 고유 자원: 기력(Vigor) 시스템__

혼령사는 마나 대신 __기력__을 사용한다. 기력은 자동으로 회복되지 않으며, 주로 기본 기술(Basic Skills)을 사용하거나 특정 패시브 효과를 통해 회복된다.<sup>14</sup>



* __논리적 구조__:
* 기본 마나 재생량을 0으로 설정한다.
* '기본 기술' 카테고리에 속한 스킬 적중 시, restore_resource 함수를 호출하여 고정된 수치(예: 15 Vigor)를 회복시킨다.
* __Harmony of Ebewaka__와 같은 고유 아이템 착용 시, 이동 거리에 비례하여 기력을 회복하는 로직을 추가한다. 이는 PlayerMoveEvent에서 이전 좌표와 현재 좌표의 벡터 거리($\sqrt{dx^2 + dz^2}$)를 계산하여 처리한다.<sup>14</sup>

__3.2 직업 전문화: 혼령 전당(Spirit Hall)__

혼령 전당은 레벨 15에 주 혼령(Primary Spirit), 레벨 30에 보조 혼령(Secondary Spirit)을 선택하여 스킬의 속성을 변환하고 패시브 보너스를 얻는 핵심 시스템이다.<sup>14</sup>

__3.2.1 주 혼령(Primary Spirit) 구현 로직__

주 혼령 선택 시, 플레이어의 모든 기술에 해당 혼령의 **태그(Tag)**가 부여된다. 예를 들어, 재규어를 선택하면 고릴라 스킬을 사용해도 '재규어' 태그가 붙어 재규어 관련 패시브 효과를 발동시킨다.<sup>14</sup>



* __재규어 (The Jaguar)__:
* __효과__: 15번째 직접 피해를 입힐 때마다 '타격(Beat Strike)'을 발동하여 지난 0.5초간 입힌 피해의 15%를 추가로 입힌다.
* __MC 구현__:
* 변수 var:jaguar_hit_count를 생성하여 데미지 이벤트마다 +1 한다.
* 변수가 15에 도달하면, 최근 데미지 로그(List 형태의 임시 변수)를 합산하여 추가 데미지를 가하고 변수를 초기화한다.
* __화염(Fire)__ 속성 태그를 부여한다.
* __고릴라 (The Gorilla)__:
* __효과__: 고릴라 스킬 사용 시 100%의 가시(Thorns) 피해를 입히고, 최대 생명력의 5%에 해당하는 보호막(Barrier)을 생성한다.<sup>17</sup>
* __MC 구현__:
* 스킬 시전(onCast) 시 Absorption (노란 하트) 값을 증가시킨다.
* 피격 시 반사 데미지를 주는 MythicMobs 스킬을 트리거한다.
* __물리(Physical)__ 속성 태그를 부여한다.
* __독수리 (The Eagle)__:
* __효과__: 이동 속도 증가 및 기동성 기반 공격. 독수리 스킬 사용 시 '폭풍 깃털(Storm Feathers)' 버프를 얻어 회피 확률을 높인다.
* __MC 구현__:
* 이동 속도 속성(generic.movement_speed)을 일시적으로 증가시킨다.
* __번개(Lightning)__ 속성 태그를 부여한다.
* __지네 (The Centipede)__:
* __효과__: 적중 시 적의 공격력을 2.5% 감소시키고 이동 속도를 10% 늦추는 디버프를 중첩(최대 8회)시킨다.<sup>18</sup>
* __MC 구현__:
* 적 엔티티에 score:centipede_stack 점수를 부여한다.
* 적의 공격 이벤트에서 Damage = BaseDamage * (1 - (Score * 0.025)) 공식을 적용한다.
* __독(Poison)__ 속성 태그를 부여한다.

__3.2.2 보조 혼령(Secondary Spirit) 구현 로직__

보조 혼령은 태그를 부여하지 않지만, 고유한 보조 메커니즘을 제공한다.


<table>
  <tr>
   <td><strong>혼령</strong>
   </td>
   <td><strong>보조 효과 및 구현 알고리즘</strong>
   </td>
  </tr>
  <tr>
   <td><strong>재규어</strong>
   </td>
   <td>최대 사나움(Ferocity) 1 증가. 적 처치 시 사나움 획득.
<p>
 
<p>
<em>구현</em>: 사나움 버프는 공격 속도(generic.attack_speed)를 10%씩 증가시키는 스택형 버프로 구현.
   </td>
  </tr>
  <tr>
   <td><strong>독수리</strong>
   </td>
   <td>이동 거리 4미터마다 치명타 확률 4% 증가.
<p>
 
<p>
<em>구현</em>: Location.distance() 체크 루프를 통해 임시 스탯 CritChance를 동적으로 조절. 치명타 발생 시 초기화.
   </td>
  </tr>
  <tr>
   <td><strong>고릴라</strong>
   </td>
   <td>최대 결의(Resolve) 2 증가. 5스택 이상 시 저지 불가(Unstoppable).
<p>
 
<p>
<em>구현</em>: 결의는 데미지 감소 버프. 5스택 도달 시 군중 제어(CC) 면역 태그 부여.
   </td>
  </tr>
  <tr>
   <td><strong>지네</strong>
   </td>
   <td>지난 3초간 중독시킨 적 하나당 생명력 1% 회복.
<p>
 
<p>
<em>구현</em>: 주기적으로 주변 10블록 내의 poisoned 태그를 가진 엔티티 수를 카운트하여 회복 실행.
   </td>
  </tr>
</table>


__3.3 신규 키워드 시스템 구현__

혼령사는 __사나움(Ferocity)__, __결의(Resolve)__, __폭풍 깃털(Storm Feathers)__, **역병 떼(Pestilent Swarms)**라는 새로운 키워드를 사용한다.<sup>16</sup>



* __사나움 (Ferocity)__: 공격 속도 증가 버프. 마인크래프트의 '성급함(Haste)' 효과 또는 MMOCore의 공속 스탯으로 구현.
* __결의 (Resolve)__: 피해 감소 버프. 스택당 20%의 피해 감소를 제공하며, 직접 피해를 입으면 스택이 1 감소한다.<sup>15</sup>
* _로직_: onDamaged 이벤트 → if (resolve_stacks > 0) → FinalDamage *= 0.8 → resolve_stacks -= 1.
* __역병 떼 (Pestilent Swarms)__: 지네 스킬 사용 시 생성되는 소환체.
* _구현_: 투명한 아머 스탠드에 파티클 이펙트를 입혀 소환하며, 주변 적에게 지속적인 독 피해를 입히고 사라지는 MythicMobs 엔티티로 구현한다.


---

__4. 기존 5대 직업의 고유 메커니즘 분석 및 구현__

각 직업은 고유한 시스템을 가지고 있으며, 이는 마인크래프트 서버의 차별점을 만드는 핵심 요소이다.

__4.1 강령술사 (Necromancer): 망자의 서 (Book of the Dead)__

강령술사는 소환수를 커스터마이징하거나 희생하여 자신의 능력을 강화한다.<sup>20</sup>



* __UI 구성__:
* 해골 전사(Skeletal Warriors), 해골 마법학자(Skeletal Mages), 골렘(Golem) 3개 탭으로 구성된 GUI.
* 각 탭에서 '종류(Type)'와 '업그레이드(Upgrade)' 또는 '희생(Sacrifice)'을 선택할 수 있다.
* __구현 로직__:
* __소환 모드__: 플레이어의 영구 데이터(PDC)에 minion_type: reaper와 같은 태그를 저장한다. 소환 스킬(Raise Skeleton) 시전 시 이 태그를 확인하여 MythicMobs의 해당 몹(예: Skeleton_Reaper)을 소환한다.
* __희생 모드__: 희생 선택 시 소환 스킬을 비활성화(잠금 처리)하고, MMOCore의 스탯 수정자를 통해 영구적인 버프(예: 암흑 피해 +15%)를 적용한다.
* __시체 메커니즘(Corpses)__: 몬스터 처치 시 5초간 지속되는 '시체' 엔티티(파티클 표시)를 소환한다. '시체 폭발' 스킬 사용 시 반경 5블록 내의 시체 엔티티를 감지하여 폭발 이펙트와 광역 피해를 입히고 엔티티를 제거한다.

__4.2 원소술사 (Sorcerer): 마법부여 슬롯 (Enchantment Slots)__

원소술사는 액티브 스킬을 패시브 슬롯에 장착하여 자동 발동 효과를 얻는다.<sup>23</sup>



* __구현 로직__:
* 레벨 15와 30에 각각 슬롯이 해금된다.
* 플레이어가 GUI에서 '화염구(Fireball)'를 마법부여 슬롯에 넣으면, enchantment_1: fireball 변수가 설정된다.
* __이벤트 리스너__:
* _화염구 효과_: 적 처치(EntityDeathEvent) 시, 해당 위치에서 MythicMobs:Fireball_Explosion을 발동시켜 주변 적에게 피해를 준다.
* _얼음 보주(Frozen Orb) 효과_: 비-기본 기술 시전 시 30% 확률로 얼음 보주 투사체를 발사한다. 이를 위해 모든 스킬 시전 이벤트에 확률 체크 로직을 삽입해야 한다.

__4.3 도적 (Rogue): 전문화 (Specialization)__

도적은 연계 점수(Combo Points), 내면의 시야(Inner Sight), 준비(Preparation) 중 하나를 선택한다.<sup>25</sup>



* __연계 점수 (Combo Points)__:
* 기본 기술 사용 시 combo_point 변수 +1 (최대 3).
* 핵심 기술(Core Skill) 사용 시 변수를 확인하여 데미지 배율을 적용한다.
* 1점: 120% 피해, 2점: 140% 피해, 3점: 160% 피해.<sup>27</sup>
* 사용 후 점수는 0으로 초기화된다. UI는 네거티브 스페이스 폰트를 사용하여 핫바 위에 점수를 시각화한다.
* __내면의 시야 (Inner Sight)__:
* 랜덤한 주변 적에게 '표식' 파티클을 띄운다.
* 해당 적 공격 시 게이지가 차오르며, 게이지가 꽉 차면 4초간 기력 소모가 0이 되는 버프를 부여한다.

__4.4 드루이드 (Druid): 영혼 은총 (Spirit Boons)__

투르 듈라(Tur Dulra) 지역의 영혼들에게 공물을 바쳐 패시브를 해금한다.<sup>28</sup>



* __구현 로직__:
* 몬스터 드롭으로 '드루이드 영혼 공물' 아이템을 획득.
* NPC와 상호작용하여 4가지 영혼(사슴, 독수리, 늑대, 뱀)의 은총을 해금.
* __영혼 결속(Bonding)__: 하나의 영혼과는 결속하여 2개의 은총을 활성화할 수 있다. 총 5개의 패시브 효과가 적용된다.
* _예시 (늑대 - 무리의 우두머리)_: "치명타 적중 시 20% 확률로 동료 기술 재사용 대기시간 초기화."
* onCrit 이벤트 리스너에서 확률을 체크하고, 성공 시 MMOCore의 ResetCooldown(SkillType.COMPANION) 함수를 호출한다.

__4.5 야만용사 (Barbarian): 무기 전문성 (Arsenal System)__

야만용사는 4개의 무기를 동시에 착용하고 스킬마다 사용하는 무기를 지정한다.<sup>30</sup>



* __마인크래프트의 한계 극복__:
* 마인크래프트는 주무기 슬롯이 하나뿐이다. 이를 해결하기 위해 __MMOItems의 슬롯 시스템__을 활용한다.
* 인벤토리의 특정 슬롯(9, 10, 11, 12번 등)을 각각 '양손 타격', '양손 베기', '쌍수 1', '쌍수 2' 슬롯으로 지정한다.
* 스킬 설정(Config)에서 "선조의 망치"는 무조건 '양손 타격' 슬롯의 아이템 스탯을 사용하여 데미지를 계산하도록 강제한다. 실제 손에 들고 있는 아이템은 시각적 용도(ModelEngine)로만 사용되거나, 스킬 시전 시 순간적으로 스왑되는 방식을 사용할 수 있다.


---

__5. 시즌 6 데미지 엔진 (Damage Engine) 설계__

_디아블로 IV_의 전투가 만족스러운 이유는 정교한 데미지 산출 공식에 있다. 시즌 6에서는 연산 방식에 큰 변화가 있었으며, 이를 정확히 구현해야 밸런스가 유지된다.<sup>31</sup>

__5.1 데미지 공식 (The Damage Formula)__

마인크래프트 서버의 데미지 계산은 다음 공식을 따라야 한다.

 

$$\text{최종 피해(Total Damage)} = \text{무기 피해} \times (1 + \text{주 스탯} \times 0.001) \times (1 + \sum \text{합연산 보너스}) \times (\prod \text{곱연산 계수}) \times \text{치명타 계수} \times \text{취약 계수}$$



1. __무기 피해 (Base Weapon Damage)__: MMOItems에 설정된 기본 공격력. 무기 속도에 따라 보정된다.
2. __주 스탯 (Main Stat)__: 야만용사(힘), 도적(민첩), 원소술사(지능), 드루이드(의지력), 혼령사(민첩).<sup>16</sup>
* 주 스탯 1당 기술 피해 0.1% 증가(곱연산). 이는 별도의 독립된 버킷으로 작용한다.<sup>31</sup>

3.              __합연산 버킷 (Additive Bucket [+])__: <sup>31</sup>



* 대부분의 조건부 피해 증가 옵션이 여기에 포함된다.
* 목록: 근거리 피해, 원거리 피해, 군중 제어 대상 피해, 지속 피해, __치명타 피해(추가분)__, __취약 피해(추가분)__.
* _중요 변경점_: 시즌 6 이전에는 치명타/취약 피해가 곱연산이었으나, 이제는 기본 배율을 초과하는 수치는 모두 합연산으로 처리된다.<sup>33</sup>

4.              __곱연산 계수 (Global Multipliers [x])__: <sup>34</sup>



* 전설 위상(Aspect), 핵심 지속 효과(Key Passive), 문양(Glyph)의 특수 효과.
* 예: "기절한 적에게 주는 피해 40%[x] 증가"는 전체 데미지에 1.4를 곱한다.

5.              __치명타 및 취약 (Crit & Vuln)__:



* __치명타__: 기본 1.5배 (50% 증폭).
* __취약__: 기본 1.2배 (20% 증폭). 적이 vulnerable 상태이상일 때 적용.
* _주의_: 아이템의 "+20% 취약 피해" 옵션은 1.2배 계수를 1.4배로 만드는 것이 아니라, 합연산 버킷에 +20%를 더하는 것이다. 이 로직을 정확히 코딩해야 한다.<sup>31</sup>

__5.2 방어 및 저항 공식 (Defense Mechanics)__

시즌 6에서는 난이도(Torment)에 따라 방어도가 깎이는 페널티가 적용되므로, 방어도 상한선(Armor Cap) 도달이 엔드게임의 핵심이다.<sup>35</sup>



* __방어도 공식 (Armor)__:
* 물리 피해 감소(DR)를 제공한다. 최대 85%까지 감소 가능.
* 공식: $\text{DR} = \frac{\text{Armor}}{\text{Armor} + (50 \times \text{AttackerLevel})}$
* 고난이도에서는 몬스터 레벨이 높아지므로 더 많은 방어도가 필요하다.
* __저항 공식 (Resistance)__:
* 화염, 냉기, 번개, 독, 암흑 저항.
* 기본 상한선 70%, 최대 상한선 85% (티리엘의 권능 등 아이템으로 확장 가능).<sup>35</sup>
* __고행 난이도 페널티 (Torment Penalties)__:
* __고행 1__: 방어도 -250, 모든 저항 -25%.
* __고행 4__: 방어도 -1000, 모든 저항 -100%.<sup>37</sup>
* _구현_: 플레이어가 고행 월드에 입장하거나 난이도를 변경할 때, 영구적인 스탯 감소 디버프(Attribute Modifier)를 적용하여 페널티를 구현한다.


---

__6. 아이템 체계 및 제작 경제 (Itemization & Crafting)__

아이템 파밍의 재미를 위해 전설 위상, 담금질, 명품화, 그리고 룬워드 시스템이 유기적으로 연결되어야 한다.

__6.1 전설 위상 (Legendary Aspects) 및 힘의 전서 (Codex of Power)__



* __시스템__: 전설 아이템을 분해하면 해당 위상이 '힘의 전서'에 저장되고, 무제한으로 다른 아이템에 각인할 수 있다.
* __구현__:
* 플레이어별 데이터베이스(YAML/SQL)에 해금된 위상 ID와 수치(Roll Value)를 저장한다. 더 높은 수치의 위상을 얻으면 DB를 갱신한다.
* __각인(Imprinting)__: 대장장이 NPC GUI에서 희귀(Rare) 아이템과 위상을 선택하면, MMOItems 플러그인을 통해 아이템을 전설(Legendary) 등급으로 승급시키고, 위상의 효과(Lore 및 Ability)를 NBT에 주입한다.

__6.2 담금질 (Tempering) - 시즌 6 시스템__

담금질은 아이템에 새로운 속성을 부여하는 시스템으로, 실패 시 아이템을 사용할 수 없게 되는 리스크가 있다.<sup>38</sup>



* __담금질 매뉴얼 (Manuals)__: 몬스터 드롭 소모품. (예: "방어 보조 - 군중 제어 지속시간 증가").
* __구현 로직__:
1. 모루(Anvil) GUI를 연다.
2. 아이템과 매뉴얼을 올린다.
3. __RNG__: 매뉴얼에 포함된 3~4개의 옵션 중 하나를 랜덤으로 선택하여 아이템에 부여한다.
4. __내구도(Temper Durability)__: 아이템 생성 시 Temper_Charges: 5 태그를 부여한다. 시도할 때마다 1씩 차감되며, 0이 되면 더 이상 담금질이 불가능하다(Bricked).
* __옵션 예시__:
* _단순형_: 화염 피해 +X%.
* _복합형_: "화염구가 20% 확률로 두 번 시전됨".<sup>41</sup> 이는 스킬 스크립트에서 해당 NBT 태그를 감지하여 투사체를 하나 더 생성하는 로직으로 연결된다.

__6.3 명품화 (Masterworking)__

담금질이 완료된 선조(Ancestral) 아이템을 강화하는 엔드게임 시스템이다.<sup>38</sup>



* __단계__: 총 12단계.
* __재료__: 나락(The Pit)에서 드롭되는 옵두사이트(Obducite), 잉골리스(Ingolith) 등.
* __로직__:
* 1~3, 5~7, 9~11단계: 모든 스탯 5% 증가.
* __4, 8, 12단계__: 하나의 랜덤한 스탯을 __25% 대폭 강화(Critically Upgrade)__.
* _구현_: 강화 성공 시 아이템의 NBT 스탯 값을 읽어와 연산 후 덮어쓴다. 25% 강화된 스탯은 색상 코드를 변경(예: 파란색 -> 노란색 -> 주황색)하여 시각적으로 강조한다.<sup>38</sup>

__6.4 신화 고유 아이템 (Mythic Uniques) 및 룬워드 (Runewords)__



* __신화 고유 아이템 (구 우버 유니크)__: 가장 강력한 아이템.
* _샤코(Harlequin Crest)_: 모든 기술 등급 +4, 받는 피해 20% 감소.<sup>42</sup>
* MMOCore의 스킬 레벨 계산식에 +4 상수를 더하는 방식으로 구현.
* _한아비(The Grandfather)_: 치명타 피해 100%[x] 증가. 치명타 계수를 1.5에서 3.0으로 변경하는 효과.
* __룬워드 (Runewords)__: 시즌 6의 핵심.<sup>43</sup>
* __구조__: 의식의 룬(Ritual, 자원 생성) + 기원의 룬(Invocation, 효과 발동).
* __조합 예시__:
* Yul(재사용 대기시간 있는 스킬 시전 시 공물 50 획득) + Vex(공물 1000 소모 시 모든 기술 등급 +3).
* __구현__:
* 아이템에 소켓 2개를 뚫고 룬 아이템을 장착.
* Yul 룬은 onCast 이벤트를 리스닝하여 내부 변수 Offering을 축적.
* Offering >= 1000이 되면 Vex 효과(버프)를 발동시키고 변수 차감.
* 이를 통해 직업 간 능력을 공유(예: 혼령사가 야만용사의 함성을 사용)하는 플레이가 가능하다.<sup>44</sup>


---

__7. 엔드게임 루프 및 월드 진행 (Progression Loop)__

플레이어는 레벨 1~60까지 성장 후, 정복자(Paragon) 레벨과 나락(The Pit) 등반을 통해 끊임없이 강해져야 한다.<sup>45</sup>

__7.1 난이도 시스템: 일반 vs 고행 (Torment)__

기존의 월드 티어 방식이 개편되어 일반/어려움/고행1~4로 세분화되었다.<sup>36</sup>


<table>
  <tr>
   <td><strong>난이도</strong>
   </td>
   <td><strong>해금 조건</strong>
   </td>
   <td><strong>몬스터 스케일링</strong>
   </td>
   <td><strong>플레이어 페널티</strong>
   </td>
  </tr>
  <tr>
   <td><strong>일반 (Normal)</strong>
   </td>
   <td>기본
   </td>
   <td>100% HP/Dmg
   </td>
   <td>없음
   </td>
  </tr>
  <tr>
   <td><strong>어려움 (Hard)</strong>
   </td>
   <td>기본
   </td>
   <td>150% HP/Dmg
   </td>
   <td>없음
   </td>
  </tr>
  <tr>
   <td><strong>고행 1 (Torment 1)</strong>
   </td>
   <td>레벨 60 + 나락 20단 클리어
   </td>
   <td>400% HP/Dmg
   </td>
   <td>방어도 -250, 저항 -25%
   </td>
  </tr>
  <tr>
   <td><strong>고행 4 (Torment 4)</strong>
   </td>
   <td>나락 65단 클리어
   </td>
   <td>5000% HP/Dmg
   </td>
   <td>방어도 -1000, 저항 -100%
   </td>
  </tr>
</table>




* __구현__:
* MythicMobs의 LevelModifiers 기능을 활용한다. 고행 4단계 월드에서는 몬스터 레벨을 플레이어 레벨 + 40으로 설정하고, 레벨당 스탯 상승폭을 기하급수적으로 설정한다.
* 나락(The Pit) 클리어 여부를 권한 노드(Permission Node)로 관리하여 상위 난이도 입장을 제어한다.

__7.2 나락 (The Pit of the Artificer) - 핵심 엔드게임__

제한 시간 내에 보스를 처치하고 명품화 재료를 얻는 던전이다.<sup>47</sup>



* __던전 로직__:
* __시간 제한__: 15분. 화면 상단에 보스바(BossBar)로 남은 시간을 표시.
* __게이지__: 몬스터 처치 시 게이지가 차오름. 사망 시 시간 30초 차감.
* __보스 스폰__: 게이지 100% 도달 시, 던전 내 모든 일반 몬스터를 remove 하고 보스 방으로 텔레포트시키거나 보스를 소환한다.
* __보상__: 보스 처치 시에만 상자가 생성되며, 명품화 재료(옵두사이트 등)와 문양(Glyph)을 드롭한다.

__7.3 정복자 보드 (Paragon Board) 시스템__

레벨 60 이후, 경험치는 정복자 포인트로 변환된다(최대 300 포인트).<sup>46</sup>



* __GUI 디자인__:
* 체스트 GUI를 활용하되, 배경 이미지를 리소스팩으로 덮어씌워 보드처럼 보이게 한다.
* 각 슬롯은 '노드'에 해당하며, 시작 지점부터 연결된 노드만 활성화(클릭) 가능하다.
* __문양 소켓 (Glyph Sockets)__:
* 보드 중앙에 문양 아이템을 끼울 수 있다.
* __범위 계산 알고리즘__: 문양 슬롯(예: 인벤토리 슬롯 22번)을 기준으로 반경 내의 슬롯(예: 12, 13, 14, 21, 23, 30, 31, 32번 등)에 할당된 스탯 노드(민첩, 지능 등)의 개수를 카운트한다.
* 계산된 수치에 따라 문양의 보너스 효과(예: 범위 내 민첩 5당 공격력 +10%)를 적용한다.


---

__8. 결론 및 개발 로드맵__

본 보고서에서 제시한 기술적 분석은 마인크래프트 서버 개발의 새로운 지평을 여는 프로젝트이다. _디아블로 IV_의 복잡한 시스템을 구현하기 위해서는 __MMOCore__의 유연한 스탯 시스템, __MythicMobs__의 강력한 스킬 엔진, __MMOItems__의 절차적 아이템 생성, 그리고 __리소스팩__을 활용한 UI 혁신이 필수적으로 융합되어야 한다.

특히 시즌 6에서 도입된 엄격한 연산 방식(곱연산과 합연산의 분리)과 혼령사의 복합적인 메커니즘은 서버 개발팀에게 높은 수준의 코딩 능력과 수학적 이해를 요구한다. 하지만 이러한 시스템이 성공적으로 구축된다면, 플레이어들은 마인크래프트 속에서 _디아블로 IV_ 특유의 핵 앤 슬래시 쾌감과 깊이 있는 빌드 연구의 재미를 느낄 수 있을 것이다.

__권장 개발 순서__:



1. __리소스팩 및 UI 구축__: 네거티브 스페이스 폰트를 활용한 HUD 및 메뉴 기반 마련.
2. __클래스 및 스킬 구현__: 각 직업별 핵심 메커니즘(혼령 전당 등) 스크립팅.
3. __아이템 및 스탯 시스템__: 데미지 공식 적용 및 기본 아이템 DB 구축.
4. __월드 및 몬스터__: 난이도별 스케일링 적용 및 던전(나락) 시스템 개발.
5. __엔드게임 컨텐츠__: 담금질, 명품화, 룬워드 등 파밍 요소 구현.

이 프로젝트, '생크추어리'는 단순한 모드가 아닌, 마인크래프트 엔진 위에서 구동되는 독립적인 ARPG 게임 엔진으로서 기능하게 될 것이다.